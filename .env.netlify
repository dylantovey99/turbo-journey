# Netlify Functions Environment Configuration
# For serverless deployment on Netlify

# Server Configuration
NODE_ENV=production
PORT=8888

# Database Configuration - Use MongoDB Atlas
MONGODB_URI=${MONGODB_URI}

# Redis Configuration - Use Redis Cloud or Upstash
REDIS_URL=${REDIS_URL}

# Missive API Configuration
MISSIVE_API_TOKEN=${MISSIVE_API_TOKEN}
MISSIVE_API_BASE_URL=https://public.missiveapp.com/v1
MISSIVE_WEBHOOK_SECRET=${MISSIVE_WEBHOOK_SECRET}
MISSIVE_DEFAULT_ACCOUNT_ID=${MISSIVE_DEFAULT_ACCOUNT_ID}

# Organization Configuration
ORGANIZATION_DOMAINS=${ORGANIZATION_DOMAINS}
ORGANIZATION_NAME=${ORGANIZATION_NAME}

# Claude/Anthropic API Configuration
ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
CLAUDE_MODEL=claude-3-5-sonnet-20241022
CLAUDE_MAX_TOKENS=2000
CLAUDE_TEMPERATURE=0.7

# Email Configuration
DEFAULT_FROM_EMAIL=${DEFAULT_FROM_EMAIL}
DEFAULT_FROM_NAME=${DEFAULT_FROM_NAME}

# Rate Limiting Configuration (Serverless optimized)
SCRAPING_DELAY_MS=5000
MISSIVE_RATE_LIMIT_PER_SECOND=0.5
CLAUDE_RATE_LIMIT_PER_MINUTE=20

# Security Configuration
JWT_SECRET=${JWT_SECRET}
API_KEY_HEADER=x-api-key

# Logging Configuration (Serverless optimized)
LOG_LEVEL=warn
LOG_MAX_FILES=3

# Netlify-specific Puppeteer Configuration (HTTP fallback only)
PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=true
PUPPETEER_SKIP_DOWNLOAD=true
DISABLE_PUPPETEER=true

# Netlify-specific Scraping Configuration
SCRAPING_TIMEOUT=25000
SCRAPING_MAX_RETRIES=2
SCRAPING_USER_AGENT=Mozilla/5.0 (compatible; Netlify-Bot/1.0)
FORCE_HTTP_SCRAPING=true

# Cloud deployment flag
IS_CLOUD_DEPLOYMENT=true
CLOUD_PLATFORM=netlify

# Netlify Functions specific
FUNCTION_TIMEOUT=25